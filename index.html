<!DOCTYPE html>
<html>

	<head>
		<title>Slides</title>
		<link rel="stylesheet" href="./multiCol.css">
		<link rel="stylesheet" href="./Reveal/reveal.css">
		<link rel="stylesheet" href="./Reveal/theme/white.css">
	</head>

	<body>
		<script>
			function includeHTML() {
				var z, i, elmnt, file, xhttp;
				/*loop through a collection of all HTML elements:*/
				z = document.getElementsByTagName("*");
				for (i = 0; i < z.length; i++) {
					elmnt = z[i];
					/*search for elements with a certain atrribute:*/
					file = elmnt.getAttribute("include-slide");
					if (file) {
						/*make an HTTP request using the attribute value as the file name:*/
						xhttp = new XMLHttpRequest();
						xhttp.onreadystatechange = function() {
							if (this.readyState == 4) {
								if (this.status == 200) {elmnt.innerHTML = this.responseText;}
								if (this.status == 404) {elmnt.innerHTML = "Page not found.";}
								/*remove the attribute, and call this function once more:*/
								elmnt.removeAttribute("include-slide");
								includeHTML();
							}
						}      
						xhttp.open("GET", file, true);
						xhttp.send();
						/*exit the function:*/
						return;
					}
				}
			};
		</script>

		<script type="module">
		</script>
		<!-- <div id="stats"></div> -->
		
		<div class="reveal">
			<div class="slides" id="slides">

				
				<!-- Intro -->
				<section id="0_titre.html" data-visibility="uncounted"></section>
				<section id="1_objectifs.html"></section>
				<section id="2_context.html"></section>
				<section id="3_hexmesh_intro.html"></section>
				<section id="4_hexmesh_criteres.html"></section>
				<section id="5_hexmesh_regul.html"></section>
				<section id="6_hexmesh_JN.html"></section>
				<section id="7_hexmesh_js_reg.html"></section>
				<section id="8_hexmesh_align.html"></section>
				<section id="9_hexmesh_nb.html"></section>
				<section id="10_methodes_gen.html"></section>
				<section id="11_methodes_spe.html"></section>
				<section id="12_methodes_courbes.html"></section>
				<section id="13_squelette.html"></section>
				<section id="14_squelette.html"></section>
				<section id="15_algo1D.html"></section>
				<section id="16_1D2D.html"></section>
				<section id="17_algo2D.html"></section>
				<section id="18_intuitions.html"></section>
				<section id="19_embranchements.html"></section>
				<section id="20_embranchements.html"></section>
				<section id="21_embranchements.html"></section>
				<section id="22_embranchements.html"></section>
				<section id="23_partition.html"></section>
				<section id="24_algorithme.html"></section>
				<section id="25_blocs.html"></section>
				<section id="26_adaptation.html"></section>
				<section id="27_analyse.html"></section>
				<section id="28_echafaudage.html"></section>
				<section id="29_echafaudage.html"></section>
				<section id="30_echafaudage.html"></section>
				<!-- <section id=""></section> -->
				<!-- <section id=""></section> -->
				<!-- <section id=""></section> -->
			</div>	
		</div>

		<script type="module">
			import Reveal from './Reveal/reveal.esm.js'

			import Slide from './Slides/Slide.js';
			import {slide_objectif} from './Slides/1_objectif.js';
			import {slide_Algo1D} from './Slides/15_algo1D.js';
			import {slide_1D2D} from './Slides/16_1D2D.js';
			import {slide_Algo2D} from './Slides/17_algo2D.js';
			import {slide_sphere_partition} from './Slides/23_partition.js';
			import {slide_Algo} from './Slides/24_algorithme.js';
			import {slide_embranch} from './Slides/29_echafaudage.js';

			import RevealNotes from './Reveal/notes/notes.esm.js'

			const slides = new Array();
			slides["1_objectifs.html"] = slide_objectif;
			slides["15_algo1D.html"] = slide_Algo1D;
			slides["16_1D2D.html"] = slide_1D2D;
			slides["17_algo2D.html"] = slide_Algo2D;
			slides["23_partition.html"] = slide_sphere_partition;
			slides["24_algorithme.html"] = slide_Algo;
			slides["29_echafaudage.html"] = slide_embranch;
			// slides[] = ;

			let active_slide;
			Reveal.addEventListener('slidechanged', function(event) {
				if(active_slide) active_slide.close();
				var sectionID = Reveal.getCurrentSlide().id;
				active_slide = slides[sectionID]
				if(active_slide) active_slide.open();
			});

			const fragment_events = [];
			Reveal.addEventListener('fragmentshown', function(event) {
				if(fragment_events[event.fragment.id])
					fragment_events[event.fragment.id]();
			});
			Reveal.addEventListener('fragmenthidden', function(event) {
				if(fragment_events[event.fragment.id])
					fragment_events[event.fragment.id]();
			});

			function loadFile(url, div) {
				const xhttp = new XMLHttpRequest();
				let text;
				xhttp.onreadystatechange = function() {
					if (this.readyState == 4) {
						if (this.status == 200) {div.innerHTML = this.responseText;}
					}
				}      
				xhttp.open("GET", url, false);
				xhttp.send();
			}

			async function loadSlideHtml(slide){
				await loadFile("./Slides/" + slide, document.getElementById(slide));
			}

			Reveal.initialize({
				touch: false, 
				slideNumber: 'c/t',
				transition: 'none',
				center: true,
				plugins: [RevealNotes]
			}).then(() => {

				loadSlideHtml("0_titre.html");
				loadSlideHtml("1_objectifs.html").then(() => { 
					slide_objectif.init(
						document.getElementById("1_input"),
						document.getElementById("1_output")
					);

					fragment_events["1_clipping"] = slides["1_objectifs.html"].toggleClipping.bind(slides["1_objectifs.html"]);


					slide_objectif.open();
				});
				loadSlideHtml("2_context.html");
				loadSlideHtml("3_hexmesh_intro.html");
				loadSlideHtml("4_hexmesh_criteres.html");
				loadSlideHtml("5_hexmesh_regul.html");
				loadSlideHtml("6_hexmesh_JN.html");
				loadSlideHtml("7_hexmesh_js_reg.html");
				loadSlideHtml("8_hexmesh_align.html");
				loadSlideHtml("9_hexmesh_nb.html");
				loadSlideHtml("10_methodes_gen.html");
				loadSlideHtml("11_methodes_spe.html");
				loadSlideHtml("12_methodes_courbes.html");
				loadSlideHtml("13_squelette.html");
				loadSlideHtml("14_squelette.html");
				
				loadSlideHtml("15_algo1D.html").then(() => { 
					slide_Algo1D.init(
						document.getElementById("algo1D_0"),
						document.getElementById("algo1D_1"),
						document.getElementById("algo1D_2"),
						document.getElementById("algo1D_3"),
						document.getElementById("algo1D_4")
					);
				});

				loadSlideHtml("16_1D2D.html").then(() => { 
					slide_1D2D.init(
						document.getElementById("squelette_1D"),
						document.getElementById("squelette_2D")
					);
				});

				loadSlideHtml("17_algo2D.html").then(() => { 
					slide_Algo2D.init(
						document.getElementById("algo2D_0"),
						document.getElementById("algo2D_1"),
						document.getElementById("algo2D_2"),
						document.getElementById("algo2D_3")
					);
				});

				loadSlideHtml("18_intuitions.html");
				loadSlideHtml("19_embranchements.html");
				loadSlideHtml("20_embranchements.html");
				loadSlideHtml("21_embranchements.html");
				loadSlideHtml("22_embranchements.html");

				loadSlideHtml("23_partition.html").then(() => { 
					slides["23_partition.html"].init(
						document.getElementById("SP_init"),
						document.getElementById("SP_Points"),
						document.getElementById("SP_Raw"),
						document.getElementById("SP_Remesh"),
						document.getElementById("SP_Dual"),
						document.getElementById("SP_Result")
					);
				});

				loadSlideHtml("24_algorithme.html", "./Slides/24_algorithme.html").then(() => { 
					slides["24_algorithme.html"].init(
						document.getElementById("algo_0"),
						document.getElementById("algo_1"),
						document.getElementById("algo_2"),
						document.getElementById("algo_3"),
						document.getElementById("algo_4")
					);
					slides["24_algorithme.html"].open();
				});

				loadSlideHtml("25_blocs.html", "./Slides/25_blocs.html");
				loadSlideHtml("26_adaptation.html", "./Slides/26_adaptation.html");
				loadSlideHtml("27_analyse.html", "./Slides/27_analyse.html");
				loadSlideHtml("28_echafaudage.html", "./Slides/28_echafaudage.html");

				loadSlideHtml("29_echafaudage.html", "./Slides/29_echafaudage.html").then(() => { 
					slides["29_echafaudage.html"].init(
						document.getElementById("29_gen"),
						document.getElementById("29_flat"),
						document.getElementById("29_ortho")
					);
					slides["29_echafaudage.html"].open();
				});

				loadSlideHtml("30_echafaudage.html", "./Slides/30_echafaudage.html");
				// loadSlideHtml("");
				// loadSlideHtml("");

				Reveal.slide(29);
			});

			
		</script>

	</body>

</html>